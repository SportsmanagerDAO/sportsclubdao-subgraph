type DAO @entity {
  id: ID!
  birth: BigInt!
  founder: Bytes!
  token: Token! @derivedFrom(field: "dao")
  docs: String!
  votingPeriod: BigInt!
  gracePeriod: BigInt!
  members: [Member!]! @derivedFrom(field: "dao")
  proposals: [Proposal!] @derivedFrom(field: "dao")
  extensions: String
  extensionsData: String
  quorum: BigInt!
  supermajority: BigInt!
}

type Token @entity {
  id: ID!
  dao: DAO!
  name: String!
  symbol: String
  paused: Boolean!
}

type Member @entity {
  id: ID!
  address: Bytes!
  dao: DAO!
  shares: BigInt!
  delegate: Delegate
  proposals: [Proposal!]
}

type Proposal @entity {
  id: ID!
  dao: DAO!
  proposer: Bytes!
  type: String!
  description: String!
  sponsor: Bytes
  sponsored: Boolean
  status: Boolean
  votes: [Vote!] @derivedFrom(field: "proposal")
}

type Vote @entity {
  id: ID!
  dao: DAO!
  proposal: Proposal!
  voter: Bytes
  vote: Boolean
}

type Delegate @entity {
  id: ID!
  dao: DAO!
  balance: BigInt!
  delegatee: [Member!] @derivedFrom(field: "delegate")
}
